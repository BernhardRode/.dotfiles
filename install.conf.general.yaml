# General configuration
#
- defaults:
    shell:
      stdout: true
      stderr: true
    link:
      create: true
      relink: true

- create:
    - ~/dev

- link:

    ~/.config:
      path: config
    ~/.editorconfig:
      force: true
      path: config/shell/editorconfig
    ~/.bashrc:
      force: true
      path: config/bash/bashrc
    ~/.gitconfig:
      force: true
      path: config/git/gitconfig
    ~/.tmux.conf:
      force: true
      path: config/tmux/tmux.conf
    ~/.zshrc:
      force: true
      path: config/zsh/zshrc

- shell:
    - [
        git submodule update --init --recursive, 
        Update modules
      ]
    - [
        sudo ~/.dotfiles/install -p dotbot-apt/apt.py -c config/apt/packages.conf.yaml,
        Install APT packages,
      ]
    - [
        sudo ~/.dotfiles/install -p dotbot-snap/snap.py -c config/snap/packages.conf.yaml,
        Install SNAP packages,
      ]